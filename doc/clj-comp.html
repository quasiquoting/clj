<html><head><meta charset="UTF-8"><link type="text/css" href="css/default.css" rel="stylesheet"><link type="text/css" href="css/hk-pyg.css" rel="stylesheet"><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><title>clj-comp documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/quasiquoting/lodox">Lodox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">clj</span> <span class="project-version">0.3.1</span></span> <span class="project-documented">(73% documented)</span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Application</span></h3><ul class="index-link"><li class="depth-1"><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Includes</span></h3><ul><li class="depth-1"><a href="compose.html"><div class="inner">compose</div></a></li><li class="depth-1"><a href="conditionals.html"><div class="inner">conditionals</div></a></li><li class="depth-1"><a href="predicates.html"><div class="inner">predicates</div></a></li><li class="depth-1"><a href="seq.html"><div class="inner">seq</div></a></li></ul><h3 class="no-link"><span class="inner">Modules</span></h3><ul><li class="depth-1 current"><a href="clj-comp.html"><div class="inner">clj-comp</div></a></li><li class="depth-1"><a href="clj-p.html"><div class="inner">clj-p</div></a></li><li class="depth-1"><a href="clj-seq.html"><div class="inner">clj-seq</div></a></li><li class="depth-1"><a href="clj-util.html"><div class="inner">clj-util</div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Exports</span></a></h3><ul><li class="depth-1"><a href="clj-comp.html#func-compose.2F1"><div class="inner"><span>compose/1</span></div></a></li><li class="depth-1"><a href="clj-comp.html#func-compose.2F2"><div class="inner"><span>compose/2</span></div></a></li><li class="depth-1"><a href="clj-comp.html#func-compose.2F3"><div class="inner"><span>compose/3</span></div></a></li><li class="depth-1"><a href="clj-comp.html#func-partial.2F2"><div class="inner"><span>partial/2</span></div></a></li></ul></div><div id="content" class="module-docs"><h1 id="top" class="anchor">clj-comp</h1><div class="doc"><p>Clojure-inspired function composition.</p>
</div><div class="public anchor" id="func-compose.2F1"><h3>compose/1</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(funcs)</code></pre></div>
</div><div class="doc"><p><a href="clj-comp.html#func-compose.2F1">compose/1</a> every function in a list, <code>funcs</code>.</p>
</div></div><div class="public anchor" id="func-compose.2F2"><h3>compose/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(func<span class="dv">-1</span> func<span class="dv">-2</span> (<span class="kw">when</span> (is_function func<span class="dv">-2</span>)))
(funcs x)</code></pre></div>
</div><div class="doc"><p>Function composition.</p>
<h4 id="usage">Usage</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"><span class="kw">&gt;</span> (include-file <span class="st">&quot;clj/include/compose.lfe&quot;</span>)
compose
<span class="kw">&gt;</span> (<span class="kw">funcall</span> (compose #&#39;math:sin/<span class="dv">1</span> #&#39;math:asin/<span class="dv">1</span>)
           <span class="fl">0.5</span>)
<span class="fl">0.49999999999999994</span>
<span class="kw">&gt;</span> (<span class="kw">funcall</span> (compose `(,#&#39;math:sin/<span class="dv">1</span>
                      ,#&#39;math:asin/<span class="dv">1</span>
                      ,(<span class="kw">lambda</span> (x) (<span class="kw">+</span> x <span class="dv">1</span>))))
           <span class="fl">0.5</span>)
<span class="fl">1.5</span></code></pre></div>
<p>Or used in another function call:</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"><span class="kw">&gt;</span> (lists:filter (compose #&#39;not/<span class="dv">1</span> #&#39;zero?/<span class="dv">1</span>)
                &#39;(<span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">0</span> <span class="dv">3</span> <span class="dv">0</span> <span class="dv">4</span>))
(<span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">4</span>)</code></pre></div>
<p>The usage above is best when <a href="clj-comp.html#func-compose.2F1">compose/1</a> will be called from in<br />
functions like <code>(lists:foldl ...)</code> or <code>(lists:filter ...)</code>, etc.<br />
However, one may also call <a href="clj-comp.html#func-compose.2F1">compose/1</a> in the following manner, best<br />
suited for direct usage:</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"><span class="kw">&gt;</span> (compose #&#39;math:sin/<span class="dv">1</span> #&#39;math:asin/<span class="dv">1</span> <span class="fl">0.5</span>)
<span class="fl">0.49999999999999994</span>
<span class="kw">&gt;</span> (compose `(,#&#39;math:sin/<span class="dv">1</span>
             ,#&#39;math:asin/<span class="dv">1</span>
             ,(<span class="kw">lambda</span> (x) (<span class="kw">+</span> x <span class="dv">1</span>))) <span class="fl">0.5</span>)
<span class="fl">1.5</span></code></pre></div>
</div></div><div class="public anchor" id="func-compose.2F3"><h3>compose/3</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(f g x)</code></pre></div>
</div><div class="doc"><p>Equivalent to <code>(funcall (compose f g) x)</code>.</p>
</div></div><div class="public anchor" id="func-partial.2F2"><h3>partial/2</h3><div class="usage"><div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">(func args<span class="dv">-1</span> (<span class="kw">when</span> (is_list args<span class="dv">-1</span>)))
(func arg<span class="dv">-1</span>)</code></pre></div>
</div><div class="doc"><p>The <a href="clj-comp.html#func-partial.2F2">partial/2</a> function is arity 2 where the first parameter must be a<br />
function and the second parameter may either be a single item or a list of<br />
items.</p>
<p>When <code>funcall</code> is called against the result of the <a href="clj-comp.html#func-partial.2F2">partial/2</a> call, a second<br />
parameter is applied to the partial function. This parameter too may be<br />
either a single item or a list of items.</p>
<h4 id="usage">Usage</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"><span class="kw">&gt;</span> (<span class="kw">set</span> f (partial #&#39;+/<span class="dv">2</span> <span class="dv">1</span>))
#Fun&lt;lfe_eval<span class="fl">.28.86468545</span>&gt;
<span class="kw">&gt;</span> (<span class="kw">funcall</span> f <span class="dv">2</span>)
<span class="dv">3</span>
<span class="kw">&gt;</span> (<span class="kw">set</span> f (partial #&#39;+/<span class="dv">3</span> <span class="dv">1</span>))
#Fun&lt;lfe_eval<span class="fl">.28.86468545</span>&gt;
<span class="kw">&gt;</span> (<span class="kw">funcall</span> f &#39;(<span class="dv">2</span> <span class="dv">3</span>))
<span class="dv">6</span>
<span class="kw">&gt;</span> (<span class="kw">set</span> f (partial #&#39;+/<span class="dv">3</span> &#39;(<span class="dv">2</span> <span class="dv">3</span>)))
#Fun&lt;lfe_eval<span class="fl">.28.86468545</span>&gt;
<span class="kw">&gt;</span> (<span class="kw">funcall</span> f <span class="dv">4</span>)
<span class="dv">9</span>
<span class="kw">&gt;</span> (<span class="kw">set</span> f (partial #&#39;+/<span class="dv">4</span> &#39;(<span class="dv">2</span> <span class="dv">3</span>)))
#Fun&lt;lfe_eval<span class="fl">.28.86468545</span>&gt;
<span class="kw">&gt;</span> (<span class="kw">funcall</span> f &#39;(<span class="dv">4</span> <span class="dv">5</span>))
<span class="dv">14</span></code></pre></div>
</div></div></div></body></html>